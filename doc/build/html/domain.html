

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Computational domain &mdash; tasmania 0.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="tasmania 0.2.0 documentation" href="index.html"/>
        <link rel="next" title="Model state" href="state.html"/>
        <link rel="prev" title="Installation" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> tasmania
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Computational domain</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#d-and-2-d-topography">1-D and 2-D topography</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-and-3-d-grid">2-D and 3-D grid</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="state.html">Model state</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamics.html">Dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">Physics</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">I/O</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tasmania</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Computational domain</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/domain.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="computational-domain">
<h1>Computational domain<a class="headerlink" href="#computational-domain" title="Permalink to this headline">¶</a></h1>
<div class="section" id="d-and-2-d-topography">
<h2>1-D and 2-D topography<a class="headerlink" href="#d-and-2-d-topography" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tasmania.grids.topography.Topography1d">
<em class="property">class </em><code class="descclassname">tasmania.grids.topography.</code><code class="descname">Topography1d</code><span class="sig-paren">(</span><em>x</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.topography.Topography1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Class which represents a one-dimensional topography, possibly time-dependent.
Indeed, although clearly not physical, a terrain surface (slowly) growing in
the early stages of a simulation may help to retrieve numerical stability,
as it prevents steep gradients in the first few iterations.</p>
<p>Letting <span class="math">\(h_s = h_s(x)\)</span> be a one-dimensional topography, with
<span class="math">\(x \in [a,b]\)</span>, the user may choose among:</p>
<blockquote>
<div><ul>
<li><p class="first">a flat terrain, i.e., <span class="math">\(h_s(x) \equiv 0\)</span>;</p>
</li>
<li><p class="first">a Gaussian-shaped mountain, i.e.,</p>
<blockquote>
<div><div class="math">
\[h_s(x) = h_{max} \exp{\left[ - \left( \frac{x - c}{\sigma_x}
\right)^2 \right]},\]</div>
</div></blockquote>
<p>where <span class="math">\(c = 0.5 (a + b)\)</span>.</p>
</li>
</ul>
</div></blockquote>
<p>Further, user-defined profiles are supported as well, provided that they
admit an analytical expression. This is passed to the class as a string,
which is then parsed in C++ via <a class="reference external" href="http://cython.org">Cython</a>
(see <code class="xref py py-class docutils literal"><span class="pre">parser_1d</span></code>). Therefore, the string
must be fully C++-compliant.</p>
<blockquote>
<div><dl class="docutils">
<dt>topo <span class="classifier-delimiter">:</span> <span class="classifier">dataarray_like</span></dt>
<dd>1-D <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the topography ([m]).</dd>
<dt>topo_type <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first">Topography type. Either:</p>
<blockquote class="last">
<div><ul class="simple">
<li>‘flat_terrain’;</li>
<li>‘gaussian’;</li>
<li>‘user_defined’.</li>
</ul>
</div></blockquote>
</dd>
<dt>topo_time <span class="classifier-delimiter">:</span> <span class="classifier">timedelta</span></dt>
<dd><code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> object representing the elapsed
simulation time after which the topography should stop increasing.</dd>
<dt>topo_fact <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Topography factor. It runs in between 0 (at the beginning of the simulation)
and 1 (once the simulation has been run for <code class="xref py py-attr docutils literal"><span class="pre">topo_time</span></code>).</dd>
<dt>topo_kwargs <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>Dictionary storing all the topography settings which could be passed
to the constructor as keyword arguments.</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="tasmania.grids.topography.Topography1d.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>x</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.topography.Topography1d.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>dataarray_like</em>) – 1-D <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the underlying horizontal axis.</li>
<li><strong>topo_type</strong> (<cite>str</cite>, optional) – <p>Topography type. Either:</p>
<blockquote>
<div><ul>
<li>’flat_terrain’ (default);</li>
<li>’gaussian’;</li>
<li>’user_defined’.</li>
</ul>
</div></blockquote>
</li>
<li><strong>topo_time</strong> (<em>timedelta</em>) – class:<cite>datetime.timedelta</cite> representing the elapsed simulation time
after which the topography should stop increasing. Default is 0,
corresponding to a time-invariant terrain surface-height.</li>
<li><strong>dtype</strong> (<cite>obj</cite>, optional) – Instance of <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> specifying the data type for any
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>. Defaults to <code class="xref py py-obj docutils literal"><span class="pre">tasmania.namelist.datatype</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li><strong>topo_max_height</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the maximum mountain height.
Defaults to 500 m. Effective only when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is ‘gaussian’.</li>
<li><strong>topo_center_x</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the <span class="math">\(x\)</span>-coordinate of
the mountain center. By default, the mountain center is placed in the center
of the domain. Effective only when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is ‘gaussian’.</li>
<li><strong>topo_width_x</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the mountain half-width.
Defaults to 1, in the same units of <code class="xref py py-data docutils literal"><span class="pre">x</span></code>. Effective only when
<code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is ‘gaussian’.</li>
<li><strong>topo_str</strong> (<em>str</em>) – Terrain profile expression in the independent variable <span class="math">\(x\)</span>.
Must be fully C++-compliant. Effective only when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code>
is ‘user_defined’.</li>
<li><strong>topo_smooth</strong> (<em>bool</em>) – <code class="xref py py-obj docutils literal"><span class="pre">True</span></code> to smooth the topography out, <code class="xref py py-obj docutils literal"><span class="pre">False</span></code> otherwise.
Default is <code class="xref py py-obj docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><em>ValueError :</em> – If the argument <code class="xref py py-obj docutils literal"><span class="pre">topo_type</span></code> is neither ‘flat_terrain’,
‘gaussian’, nor ‘user_defined’.</li>
<li><em>ImportError :</em> – If <code class="xref py py-class docutils literal"><span class="pre">Parser1d</span></code> cannot be
imported (likely because it has not been compiled).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tasmania.grids.topography.Topography1d.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.topography.Topography1d.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update topography at current simulation time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>timedelta</em>) – <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the elapsed simulation time.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tasmania.grids.parser.parser_1d.Parser1d">
<em class="property">class </em><code class="descclassname">tasmania.grids.parser.parser_1d.</code><code class="descname">Parser1d</code><a class="headerlink" href="#tasmania.grids.parser.parser_1d.Parser1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the C++ class <code class="xref py py-obj docutils literal"><span class="pre">parser_1d_cpp</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>parser</strong> (<em>obj</em>) – Pointer to a <code class="xref py py-obj docutils literal"><span class="pre">parser_1d_cpp</span></code> object.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tasmania.grids.parser.parser_1d.Parser1d.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.parser.parser_1d.Parser1d.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the expression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> of the evaluations.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tasmania.grids.topography.Topography2d">
<em class="property">class </em><code class="descclassname">tasmania.grids.topography.</code><code class="descname">Topography2d</code><span class="sig-paren">(</span><em>grid</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.topography.Topography2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Class which represents a two-dimensional topography, possibly time-dependent.
Indeed, although clearly not physical, a terrain surface (slowly) growing in
the early stages of a simulation may help to retrieve numerical stability,
as it prevents steep gradients in the first few iterations.</p>
<p>Letting <span class="math">\(h_s = h_s(x,y)\)</span> be a two-dimensional topography,
with <span class="math">\(x \in [a_x,b_x]\)</span> and <span class="math">\(y \in [a_y,b_y]\)</span>, the user may
choose among:</p>
<blockquote>
<div><ul>
<li><p class="first">a flat terrain, i.e., <span class="math">\(h_s(x,y) \equiv 0\)</span>;</p>
</li>
<li><p class="first">a Gaussian shaped-mountain, i.e.</p>
<blockquote>
<div><div class="math">
\[h_s(x,y) = h_{max} \exp{\left[ - \left( \frac{x - c_x}{\sigma_x}
\right)^2 - \left( \frac{y - c_y}{\sigma_y} \right)^2 \right]} ;\]</div>
</div></blockquote>
</li>
<li><p class="first">a modified Gaussian-shaped mountain proposed by Schaer and Durran (1997),</p>
<blockquote>
<div><div class="math">
\[h_s(x,y) = \frac{h_{max}}{\left[ 1 + \left( \frac{x - c_x}{\sigma_x}
\right)^2 + \left( \frac{y - c_y}{\sigma_y} \right)^2 \right]^{3/2}}.\]</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Further, user-defined profiles are supported as well, provided that they
admit an analytical expression. This is passed to the class as a string,
which is then parsed in C++ via <a class="reference external" href="http://cython.org">Cython</a>
(see <code class="xref py py-class docutils literal"><span class="pre">parser_2d</span></code>). Therefore, the string
must be fully C++-compliant.</p>
<blockquote>
<div><p>Schaer, C., and D. R. Durran. (1997). Vortex formation and vortex shedding      in continuosly stratified flows past isolated topography.       <em>Journal of Atmospheric Sciences</em>, <em>54</em>:534-554.</p>
<dl class="docutils">
<dt>topo <span class="classifier-delimiter">:</span> <span class="classifier">dataarray_like</span></dt>
<dd>2-D <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the topography ([m]).</dd>
<dt>topo_type <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first">Topography type. Either:</p>
<blockquote class="last">
<div><ul class="simple">
<li>‘flat_terrain’;</li>
<li>‘gaussian’;</li>
<li>‘schaer’;</li>
<li>‘user_defined’.</li>
</ul>
</div></blockquote>
</dd>
<dt>topo_time <span class="classifier-delimiter">:</span> <span class="classifier">timedelta</span></dt>
<dd><code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the elapsed simulation time
after which the topography should stop increasing.</dd>
<dt>topo_fact <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Topography factor. It runs in between 0 (at the beginning of the simulation)
and 1 (once the simulation has been run for <code class="xref py py-attr docutils literal"><span class="pre">topo_time</span></code>).</dd>
<dt>topo_kwargs <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>Dictionary storing all the topography settings which could be passed
to the constructor as keyword arguments.</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="tasmania.grids.topography.Topography2d.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>grid</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.topography.Topography2d.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>grid</strong> (<em>grid</em>) – <a class="reference internal" href="#tasmania.grids.grid_xy.GridXY" title="tasmania.grids.grid_xy.GridXY"><code class="xref py py-class docutils literal"><span class="pre">GridXY</span></code></a> representing the underlying grid.</li>
<li><strong>topo_type</strong> (<cite>str</cite>, optional) – <p>Topography type. Either:</p>
<blockquote>
<div><ul>
<li>’flat_terrain’ (default);</li>
<li>’gaussian’;</li>
<li>’schaer’;</li>
<li>’user_defined’.</li>
</ul>
</div></blockquote>
</li>
<li><strong>topo_time</strong> (<em>timedelta</em>) – <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the elapsed simulation time
after which the topography should stop increasing. Default is 0,
corresponding to a time-invariant terrain surface-height.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li><strong>topo_max_height</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the maximum mountain height.
Defaults to 500. Effective when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is either ‘gaussian’ or ‘schaer’.</li>
<li><strong>topo_center_x</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the <span class="math">\(x\)</span>-coordinate of
the mountain center. By default, the mountain center is placed in the center
of the domain. Effective when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is either ‘gaussian’ or ‘schaer’.</li>
<li><strong>topo_center_y</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the <span class="math">\(y\)</span>-coordinate of
the mountain center. By default, the mountain center is placed in the center
of the domain. Effective when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is either ‘gaussian’ or ‘schaer’.</li>
<li><strong>topo_width_x</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the mountain half-width in
the <span class="math">\(x\)</span>-direction. Defaults to 1, in the same units of the <code class="xref py py-data docutils literal"><span class="pre">x</span></code>-axis.
Effective when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is either ‘gaussian’ or ‘schaer’.</li>
<li><strong>topo_width_y</strong> (<em>dataarray_like</em>) – 1-item <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> representing the mountain half-width in
the <span class="math">\(y\)</span>-direction. Defaults to 1, in the same units of the <code class="xref py py-data docutils literal"><span class="pre">y</span></code>-axis.
Effective when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code> is either ‘gaussian’ or ‘schaer’.</li>
<li><strong>topo_str</strong> (<em>str</em>) – Terrain profile expression in the independent variables <span class="math">\(x\)</span> and <span class="math">\(y\)</span>.
Must be fully C++-compliant. Effective only when <code class="xref py py-data docutils literal"><span class="pre">topo_type</span></code>
is ‘user_defined’.</li>
<li><strong>topo_smooth</strong> (<em>bool</em>) – <code class="xref py py-obj docutils literal"><span class="pre">True</span></code> to smooth the topography out, <code class="xref py py-obj docutils literal"><span class="pre">False</span></code> otherwise.
Default is <code class="xref py py-obj docutils literal"><span class="pre">False</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><em>ValueError :</em> – If the argument <code class="xref py py-obj docutils literal"><span class="pre">topo_type</span></code> is neither ‘flat_terrain’,
‘gaussian’, ‘schaer’, nor ‘user_defined’.</li>
<li><em>ImportError :</em> – If <code class="xref py py-class docutils literal"><span class="pre">Parser2d</span></code> cannot be
imported (likely because it has not been compiled).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tasmania.grids.topography.Topography2d.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.topography.Topography2d.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update topography at current simulation time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>timedelta</em>) – <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the elapsed simulation time.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tasmania.grids.parser.parser_2d.Parser2d">
<em class="property">class </em><code class="descclassname">tasmania.grids.parser.parser_2d.</code><code class="descname">Parser2d</code><a class="headerlink" href="#tasmania.grids.parser.parser_2d.Parser2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the C++ class <code class="xref py py-obj docutils literal"><span class="pre">parser_2d_cpp</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>parser</strong> (<em>obj</em>) – Pointer to a <code class="xref py py-obj docutils literal"><span class="pre">parser_2d_cpp</span></code> object.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tasmania.grids.parser.parser_2d.Parser2d.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.parser.parser_2d.Parser2d.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the expression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Two-dimensional <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> of the evaluations.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="d-and-3-d-grid">
<h2>2-D and 3-D grid<a class="headerlink" href="#d-and-3-d-grid" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tasmania.grids.grid_xy.GridXY">
<em class="property">class </em><code class="descclassname">tasmania.grids.grid_xy.</code><code class="descname">GridXY</code><span class="sig-paren">(</span><em>domain_x</em>, <em>nx</em>, <em>domain_y</em>, <em>ny</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xy.GridXY" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a rectangular and regular two-dimensional grid
embedded in a reference system whose coordinates are, in the order,
<span class="math">\(x\)</span> and <span class="math">\(y\)</span>. No assumption is made on the nature of the
coordinates. For instance, <span class="math">\(x\)</span> may be the longitude, in which
case <span class="math">\(x \equiv \lambda\)</span>, and <span class="math">\(y\)</span> may be the latitude,
in which case <span class="math">\(y \equiv \phi\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.x" title="tasmania.grids.grid_xyz.GridXYZ.x"><strong>x</strong></a> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(x\)</span>-coordinates of
the mass points.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.x_at_u_locations" title="tasmania.grids.grid_xyz.GridXYZ.x_at_u_locations"><strong>x_at_u_locations</strong></a> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(x\)</span>-coordinates of
the <span class="math">\(staggered\)</span> points.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.nx" title="tasmania.grids.grid_xyz.GridXYZ.nx"><strong>nx</strong></a> (<em>int</em>) – Number of mass points in the <span class="math">\(x\)</span>-direction.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.dx" title="tasmania.grids.grid_xyz.GridXYZ.dx"><strong>dx</strong></a> (<em>dataarray_like</em>) – The <span class="math">\(x\)</span>-spacing, in the same units of the <span class="math">\(x\)</span>-axis.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.y" title="tasmania.grids.grid_xyz.GridXYZ.y"><strong>y</strong></a> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(y\)</span>-coordinates of
the mass points.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.y_at_v_locations" title="tasmania.grids.grid_xyz.GridXYZ.y_at_v_locations"><strong>y_at_v_locations</strong></a> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(y\)</span>-coordinates of
the <span class="math">\(y\)</span>-staggered points.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.ny" title="tasmania.grids.grid_xyz.GridXYZ.ny"><strong>ny</strong></a> (<em>int</em>) – Number of mass points in the <span class="math">\(y\)</span>-direction.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.dy" title="tasmania.grids.grid_xyz.GridXYZ.dy"><strong>dy</strong></a> (<em>dataarray_like</em>) – The <span class="math">\(y\)</span>-spacing, in the same units of the <span class="math">\(y\)</span>-axis.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tasmania.grids.grid_xy.GridXY.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>domain_x</em>, <em>nx</em>, <em>domain_y</em>, <em>ny</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xy.GridXY.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>domain_x</strong> (<em>dataarray_like</em>) – 2-items <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the end-points of the interval
which the domain includes along the <span class="math">\(x\)</span>-axis, as well as the axis
dimension and units.</li>
<li><strong>nx</strong> (<em>int</em>) – Number of mass points in the <span class="math">\(x\)</span>-direction.</li>
<li><strong>domain_y</strong> (<em>dataarray_like</em>) – 2-items <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the end-points of the interval
which the domain includes along the <span class="math">\(y\)</span>-axis, as well as the axis
dimension and units.</li>
<li><strong>ny</strong> (<em>int</em>) – Number of mass points in the <span class="math">\(y\)</span>-direction.</li>
<li><strong>dtype</strong> (<cite>obj</cite>, optional) – Instance of <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> specifying the data type for
any <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> used within this class.
Defaults to <code class="xref py py-obj docutils literal"><span class="pre">datatype</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Axes labels should use the <a class="reference external" href="http://cfconventions.org">CF Conventions</a>.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tasmania.grids.grid_xz.GridXZ">
<em class="property">class </em><code class="descclassname">tasmania.grids.grid_xz.</code><code class="descname">GridXZ</code><span class="sig-paren">(</span><em>domain_x</em>, <em>nx</em>, <em>domain_z</em>, <em>nz</em>, <em>z_interface=None</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>topo_kwargs=None</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xz.GridXZ" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a rectangular and regular two-dimensional grid
embedded in a reference system whose coordinates are</p>
<blockquote>
<div><ul class="simple">
<li>the horizontal coordinate <span class="math">\(x\)</span>;</li>
<li>the vertical (terrain-following) coordinate <span class="math">\(z\)</span>.</li>
</ul>
</div></blockquote>
<p>The vertical coordinate <span class="math">\(z\)</span> may be formulated to define a
hybrid terrain-following coordinate system with terrain-following
coordinate lines between the surface terrain-height and <span class="math">\(z = z_F\)</span>,
where <span class="math">\(z\)</span>-coordinate lines change back to flat horizontal lines.
However, no assumption is made on the actual nature of <span class="math">\(z\)</span>,
which may be either pressure-based or height-based.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.x" title="tasmania.grids.grid_xyz.GridXYZ.x"><strong>x</strong></a> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(x\)</span>-coordinates of
the mass points.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.x_at_u_locations" title="tasmania.grids.grid_xyz.GridXYZ.x_at_u_locations"><strong>x_at_u_locations</strong></a> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(x\)</span>-coordinates of
the <span class="math">\(x\)</span>-staggered points.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.nx" title="tasmania.grids.grid_xyz.GridXYZ.nx"><strong>nx</strong></a> (<em>int</em>) – Number of mass points in the <span class="math">\(x\)</span>-direction.</li>
<li><a class="reference internal" href="#tasmania.grids.grid_xyz.GridXYZ.dx" title="tasmania.grids.grid_xyz.GridXYZ.dx"><strong>dx</strong></a> (<em>dataarray_like</em>) – The <span class="math">\(x\)</span>-spacing, in the same units of the <span class="math">\(x\)</span>-axis.</li>
<li><strong>z</strong> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(z\)</span>-main levels.</li>
<li><strong>z_on_interface_levels</strong> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(z\)</span>-half levels.</li>
<li><strong>nz</strong> (<em>int</em>) – Number of vertical main levels.</li>
<li><strong>dz</strong> (<em>dataarray_like</em>) – The <span class="math">\(z\)</span>-spacing, in the same units of the <span class="math">\(z\)</span>-axis.</li>
<li><strong>z_interface</strong> (<em>dataarray_like</em>) – The interface coordinate <span class="math">\(z_F\)</span> in the same units of the <span class="math">\(z\)</span>-axis.</li>
<li><strong>topography</strong> (<em>topography</em>) – <a class="reference internal" href="#tasmania.grids.topography.Topography1d" title="tasmania.grids.topography.Topography1d"><code class="xref py py-class docutils literal"><span class="pre">Topography1d</span></code></a> representing
the underlying topography.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the sake of compliancy with the <a class="reference external" href="http://www.cosmo-model.org">COSMO model</a>,
the vertical grid points are ordered from the top of the domain to the surface.</p>
</div>
<dl class="method">
<dt id="tasmania.grids.grid_xz.GridXZ.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>domain_x</em>, <em>nx</em>, <em>domain_z</em>, <em>nz</em>, <em>z_interface=None</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>topo_kwargs=None</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xz.GridXZ.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>domain_x</strong> (<em>dataarray_like</em>) – 2-items <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the end-points of the interval
which the domain includes along the <span class="math">\(x\)</span>-axis, as well as the axis
dimension and units.</li>
<li><strong>nx</strong> (<em>int</em>) – Number of mass points in the <span class="math">\(x\)</span>-direction.</li>
<li><strong>domain_z</strong> (<em>dataarray_like</em>) – 2-items <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the end-points of the interval
which the domain includes along the <span class="math">\(z\)</span>-axis, as well as the axis
dimension and units. The interval should be specified in the form
<span class="math">\((z_{top}, ~ z_{surface})\)</span>.</li>
<li><strong>nz</strong> (<em>int</em>) – Number of vertical main levels.</li>
<li><strong>z_interface</strong> (<cite>dataarray_like</cite>, optional) – Interface value <span class="math">\(z_F\)</span>. If not specified, it is assumed that
<span class="math">\(z_F = z_T\)</span>, with <span class="math">\(z_T\)</span> the value of <span class="math">\(z\)</span> at the top
of the domain. In other words, the coordinate system is supposed
fully terrain-following.</li>
<li><strong>topo_type</strong> (<cite>str</cite>, optional) – Topography type. Defaults to ‘flat_terrain’.
See <a class="reference internal" href="#tasmania.grids.topography.Topography1d" title="tasmania.grids.topography.Topography1d"><code class="xref py py-class docutils literal"><span class="pre">Topography1d</span></code></a> for further details.</li>
<li><strong>topo_time</strong> (<cite>timedelta</cite>, optional) – <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the simulation time after
which the topography should stop increasing. Default is 0, corresponding
to a time-invariant terrain surface-height. See
<a class="reference internal" href="#tasmania.grids.topography.Topography1d" title="tasmania.grids.topography.Topography1d"><code class="xref py py-mod docutils literal"><span class="pre">Topography1d</span></code></a> for further details.</li>
<li><strong>topo_kwargs</strong> (<cite>dict</cite>, optional) – Keyword arguments to be forwarded to the constructor of
<a class="reference internal" href="#tasmania.grids.topography.Topography1d" title="tasmania.grids.topography.Topography1d"><code class="xref py py-class docutils literal"><span class="pre">Topography1d</span></code></a>.</li>
<li><strong>dtype</strong> (<cite>obj</cite>, optional) – Instance of <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> specifying the data type for
any <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> used within this class.
Defaults to <code class="xref py py-obj docutils literal"><span class="pre">datatype</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><em>ValueError :</em> – If <code class="xref py py-obj docutils literal"><span class="pre">z_interface</span></code> is outside the domain.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xz.GridXZ.topography_height">
<code class="descname">topography_height</code><a class="headerlink" href="#tasmania.grids.grid_xz.GridXZ.topography_height" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the topography (i.e., terrain-surface) height.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">1-D <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> representing the topography height.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">array_like</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tasmania.grids.grid_xz.GridXZ.update_topography">
<code class="descname">update_topography</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xz.GridXZ.update_topography" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the (time-dependent) topography.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>timedelta</em>) – <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the elapsed simulation time.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tasmania.grids.grid_xyz.GridXYZ">
<em class="property">class </em><code class="descclassname">tasmania.grids.grid_xyz.</code><code class="descname">GridXYZ</code><span class="sig-paren">(</span><em>domain_x</em>, <em>nx</em>, <em>domain_y</em>, <em>ny</em>, <em>domain_z</em>, <em>nz</em>, <em>z_interface=None</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>topo_kwargs=None</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a rectangular and regular three-dimensional grid
embedded in a reference system whose coordinates are</p>
<blockquote>
<div><ul class="simple">
<li>the first horizontal coordinate <span class="math">\(x\)</span>;</li>
<li>the second horizontal coordinate <span class="math">\(y\)</span>;</li>
<li>the vertical (terrain-following) coordinate <span class="math">\(z\)</span>.</li>
</ul>
</div></blockquote>
<p>The vertical coordinate <span class="math">\(z\)</span> may be formulated to define a hybrid
terrain-following coordinate system with terrain-following coordinate
lines between the surface terrain-height and <span class="math">\(z = z_F\)</span>, where
<span class="math">\(z\)</span>-coordinate lines change back to flat horizontal lines. However,
no assumption is made on the actual nature of <span class="math">\(z\)</span>, which may be either
pressure-based or height-based.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>xy_grid</strong> (<em>grid</em>) – <a class="reference internal" href="#tasmania.grids.grid_xy.GridXY" title="tasmania.grids.grid_xy.GridXY"><code class="xref py py-class docutils literal"><span class="pre">GridXY</span></code></a> representing the horizontal grid.</li>
<li><strong>z</strong> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(z\)</span>-main levels.</li>
<li><strong>z_on_interface_levels</strong> (<em>dataarray_like</em>) – <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(z\)</span>-half levels.</li>
<li><strong>nz</strong> (<em>int</em>) – Number of vertical main levels.</li>
<li><strong>dz</strong> (<em>dataarray_like</em>) – The <span class="math">\(z\)</span>-spacing.</li>
<li><strong>z_interface</strong> (<em>dataarray_like</em>) – The interface coordinate <span class="math">\(z_F\)</span>, in the same units of the <span class="math">\(z\)</span>-axis.</li>
<li><strong>topography</strong> (<em>topography</em>) – <a class="reference internal" href="#tasmania.grids.topography.Topography2d" title="tasmania.grids.topography.Topography2d"><code class="xref py py-class docutils literal"><span class="pre">Topography2d</span></code></a> representing the
underlying topography.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the sake of compliancy with the <a class="reference external" href="http://cosmo-model.org">COSMO model</a>,
the vertical grid points are ordered from the top of the domain to the surface.</p>
</div>
<dl class="method">
<dt id="tasmania.grids.grid_xyz.GridXYZ.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>domain_x</em>, <em>nx</em>, <em>domain_y</em>, <em>ny</em>, <em>domain_z</em>, <em>nz</em>, <em>z_interface=None</em>, <em>topo_type='flat_terrain'</em>, <em>topo_time=datetime.timedelta(0)</em>, <em>topo_kwargs=None</em>, <em>dtype=&lt;class 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>domain_x</strong> (<em>dataarray_like</em>) – 2-items <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the end-points of the interval
which the domain includes along the <span class="math">\(x\)</span>-axis, as well as the axis
dimension and units.</li>
<li><strong>nx</strong> (<em>int</em>) – Number of mass points in the <span class="math">\(x\)</span>-direction.</li>
<li><strong>domain_y</strong> (<em>dataarray_like</em>) – 2-items <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the end-points of the interval
which the domain includes along the <span class="math">\(y\)</span>-axis, as well as the axis
dimension and units.</li>
<li><strong>ny</strong> (<em>int</em>) – Number of mass points in the <span class="math">\(y\)</span>-direction.</li>
<li><strong>domain_z</strong> (<em>dataarray_like</em>) – 2-items <code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the end-points of the interval
which the domain includes along the <span class="math">\(z\)</span>-axis, as well as the axis
dimension and units. The interval should be specified in the form
<span class="math">\((z_{top}, ~ z_{surface})\)</span>.</li>
<li><strong>nz</strong> (<em>int</em>) – Number of vertical main levels.</li>
<li><strong>z_interface</strong> (<cite>dataarray_like</cite>, optional) – Interface value <span class="math">\(z_F\)</span>. If not specified, it is assumed that
<span class="math">\(z_F = z_T\)</span>, with <span class="math">\(z_T\)</span> the value of <span class="math">\(z\)</span> at the
top of the domain. In other words, the coordinate system is supposed
fully terrain-following.</li>
<li><strong>topo_type</strong> (<cite>str</cite>, optional) – Topography type. Defaults to ‘flat_terrain’.
See <a class="reference internal" href="#tasmania.grids.topography.Topography2d" title="tasmania.grids.topography.Topography2d"><code class="xref py py-class docutils literal"><span class="pre">Topography2d</span></code></a> for further details.</li>
<li><strong>topo_time</strong> (<cite>timedelta</cite>, optional) – <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the simulation time after
which the topography should stop increasing. Default is 0, corresponding
to a time-invariant terrain surface-height.
See <a class="reference internal" href="#tasmania.grids.topography.Topography2d" title="tasmania.grids.topography.Topography2d"><code class="xref py py-class docutils literal"><span class="pre">Topography2d</span></code></a> for further details.</li>
<li><strong>topo_kwargs</strong> (<cite>dict</cite>, optional) – Keyword arguments to be forwarded to the constructor of
<a class="reference internal" href="#tasmania.grids.topography.Topography2d" title="tasmania.grids.topography.Topography2d"><code class="xref py py-class docutils literal"><span class="pre">Topography2d</span></code></a>.</li>
<li><strong>dtype</strong> (<cite>obj</cite>, optional) – Instance of <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> specifying the data type for
any <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> used within this class.
Defaults to <code class="xref py py-obj docutils literal"><span class="pre">datatype</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><em>ValueError :</em> – If <code class="xref py py-obj docutils literal"><span class="pre">z_interface</span></code> is outside the domain.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.dx">
<code class="descname">dx</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.dx" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <span class="math">\(x\)</span>-spacing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The <span class="math">\(x\)</span>-spacing.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.dy">
<code class="descname">dy</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.dy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <span class="math">\(y\)</span>-spacing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The <span class="math">\(y\)</span>-spacing.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.nx">
<code class="descname">nx</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.nx" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of grid points in the <span class="math">\(x\)</span>-direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Number of grid points in the <span class="math">\(x\)</span>-direction.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.ny">
<code class="descname">ny</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.ny" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of grid points in the <span class="math">\(y\)</span>-direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Number of grid points in the <span class="math">\(y\)</span>-direction.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.topography_height">
<code class="descname">topography_height</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.topography_height" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the topography (i.e., terrain-surface) height.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-D <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> representing the topography height.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">array_like</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tasmania.grids.grid_xyz.GridXYZ.update_topography">
<code class="descname">update_topography</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.update_topography" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the (time-dependent) topography.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>timedelta</em>) – <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> representing the elapsed simulation time.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.x">
<code class="descname">x</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <span class="math">\(x\)</span>-coordinates of the mass points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(x\)</span>-coordinates
of the mass points.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dataarray_like</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.x_at_u_locations">
<code class="descname">x_at_u_locations</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.x_at_u_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <span class="math">\(x\)</span>-coordinates of the <span class="math">\(x\)</span>-staggered points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(x\)</span>-coordinates
of the <span class="math">\(x\)</span>-staggered points.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dataarray_like</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.y">
<code class="descname">y</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.y" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <span class="math">\(y\)</span>-coordinates of the mass points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(y\)</span>-coordinates
of the mass points.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dataarray_like</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="tasmania.grids.grid_xyz.GridXYZ.y_at_v_locations">
<code class="descname">y_at_v_locations</code><a class="headerlink" href="#tasmania.grids.grid_xyz.GridXYZ.y_at_v_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <span class="math">\(y\)</span>-coordinates of the <span class="math">\(y\)</span>-staggered points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">sympl.DataArray</span></code> storing the <span class="math">\(y\)</span>-coordinates
of the <span class="math">\(y\)</span>-staggered points.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dataarray_like</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="state.html" class="btn btn-neutral float-right" title="Model state" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Stefano Ubbiali.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>